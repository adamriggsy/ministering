{"version":3,"file":"/js/assignment.js","mappings":"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","sources":["webpack:///./resources/js/_comments.js","webpack:///./resources/js/assignment.js"],"sourcesContent":["export const commentsHelper = function () {\n    'use strict';\n\n    let data = {\n        'commentTemplate': null,\n        'commentCardTemplate': null\n    };\n\n    let css = {\n        'mainContainer': '#assignmentContainer',\n        'viewTypes': {\n            'grid': 'ajr-grid',\n            'list': 'ajr-list'\n        },\n        'modals': {\n            'comment': '#commentModal'\n        },\n        'comments': {\n            'form': '#newComment',\n            'formError': '#commentError'\n        },\n        'household': {\n            'container': '.household',\n            'comments': '.allComments',\n            'status': '.status',\n            'error': '.statusError'\n        }\n    };\n\n    let functions = {\n    \t'init' : function(createUrl) {\n    \t\t$.ajaxSetup({\n\t\t\t    headers: {\n\t\t\t        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n\t\t\t    }\n\t\t\t});\n    \t},\n    \t'setDataAttr' : function(attr, val) {\n    \t\tdata[attr] = val;\n    \t},\n    \t'getDataAttr' : function(attr) {\n    \t\treturn data[attr];\n    \t},\n    \t'getAllData' : function() {\n    \t\treturn data;\n    \t},\n        'createComment' : function(params) {\n    \t\t$.ajax({\n                url: params.url,\n                type: 'post',\n                data: params.data,\n                success: function(response) {\n                    params.successCallback(response);\n                }\n            });\n    \t},\n    \t'buildComments' : function(template, container, comments, emptyMessage) {\n    \t\tif(typeof emptyMessage === 'undefined') {\n                emptyMessage = 'No comments yet.';\n            }\n\n            container.html('');\n\n            if(comments.length === 0) {\n                container.html('<p>' + emptyMessage + '</p>');\n            }else {\n    \t\t    $.each(comments, function(index, comment) {\n                    let author = comment.author;\n\n                    if(typeof author === 'undefined') {\n                        author = comment.authorInfo;\n                    }\n                    \n    \t\t\t\t// let authorInfo = author.name + ' - ' + _moment(comment.updated_at).format('YYYY-MM-DD LT');\n    \t\t\t\tlet newComment = template(comment.id, comment.body, author.name, _moment(comment.updated_at).format('YYYY-MM-DD LT'));\n    \t\t\t\tcontainer.prepend(newComment);\n    \t\t\t});\n            }\n    \t},\n    \t'setCommentError' : function(container, error) {\n    \t\tcontainer.html(error);\n    \t},\n    \t'resetCommentForm' : function(form) {\n    \t\tform.reset();\n    \t},\n        'showCommentsAjaxLoader' : function(container) {\n            container.find('.ajax-loader').removeClass('d-none');\n        },\n        'hideCommentsAjaxLoader' : function(container) {\n            container.find('.ajax-loader').addClass('d-none');\n        }\n    };\n\n    return {\n        data : functions.getAllData,\n        functions: functions\n    }\n}();\n","import {commentsHelper} from './_comments.js';\n\nwindow.assignmentHelper = function () {\n    'use strict';\n\n    let data = {\n    \t'companionships' : null,\n    \t'unassignedHouseholds': false,\n    \t'activeCompanionship': null,\n    \t'ac': false,\n        'tickerTemplate': null\n    };\n\n    let css = {\n    \t'activeCompanionship' : {\n    \t\t'container' : '#activeCompanionship',\n    \t\t'companionship' : {\n    \t\t\t'container' : '#companionshipContainer',\n    \t\t\t'comp1': '.companionship1',\n    \t\t\t'comp2' : '.companionship2',\n    \t\t\t'minTo' : '#assignedToVisitContainer'\n    \t\t},\n    \t\t'ministering' : {\n    \t\t\t'container' : '#ministeringInfo',\n    \t\t\t'assigned' : {\n    \t\t\t\t'container' : '#assignedToVisitContainer'\n    \t\t\t},\n    \t\t\t'visiting' : {\n    \t\t\t\t'container' : '#visitingHousehold'\n    \t\t\t}\n    \t\t},\n    \t\t'comments' : {\n    \t\t\t'container' : '#companionshipComments',\n    \t\t\t'allComments' : '#commentsContainer',\n    \t\t\t'view' : '#view',\n    \t\t\t'form' : '#newComment',\n    \t\t\t'formError' : '#commentError',\n    \t\t\t'nav' : {\n    \t\t\t\t'view' : '#commentNavView',\n    \t\t\t\t'create' : '#commentNavCreate'\n    \t\t\t}\n    \t\t}\n    \t},\n        'ticker' : {\n            'mainContainer': '#unassignedTicker',\n            'container' : '#unassignedTicker .ticker'\n        }\n    };\n\n    const commentTemplate = function commentTemplate(id, body, authorName, commentDate ) {\n        return `\n            <div class='houseComment' data-commentid=\"${id}\">\n                <author>${authorName} - ${commentDate}</author>\n                <p class=\"commentBody\">${body}</p>\n            </div>\n        `;\n    };\n\n    const tickerTemplate = function tickerTemplate(content) {\n        return `\n            <div class=\"ticker__item\">${content}</div>\n        `;\n    }\n\n    let functions = {\n    \t'init' : function(companionships) {\n    \t\t$.ajaxSetup({\n\t\t\t    headers: {\n\t\t\t        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n\t\t\t    }\n\t\t\t});\n\n    \t\t\n            functions.setDataAttr('companionships', companionships);\n            functions.setDataAttr('tickerTemplate', tickerTemplate);\n    \t\tfunctions.getUnassignedHouseholds();\n            commentsHelper.functions.init();\n            commentsHelper.functions.setDataAttr('commentTemplate', commentTemplate);\n    \t},\n    \t'setDataAttr' : function(attr, val) {\n    \t\tdata[attr] = val;\n    \t},\n    \t'getDataAttr' : function(attr) {\n    \t\treturn data[attr];\n    \t},\n    \t'getAllData' : function() {\n    \t\treturn data;\n    \t},\n    \t'workOnCompanionship' : function(companionshipEl) {\n            let companionshipData = functions.getCompanionshipById(companionshipEl.data('companionshipid'));\n\n    \t\tfunctions.setDataAttr('activeCompanionship', companionshipData);\n\n    \t\tlet ac = css.activeCompanionship;\n    \t\tlet $ac = $(ac.container);\n    \t\t\n            $ac.attr('data-activeid', companionshipData.id);\n            $ac.attr('data-companionshipid', companionshipData.id);\n            $(ac.companionship.comp1, $ac).html(companionshipData.firstCompanion.fullName);\n            $(ac.companionship.comp2, $ac).html(companionshipData.secondCompanion.fullName);\n\n            $(ac.companionship.minTo).html(companionshipEl.find('.assignments').html());\n    \t},\n    \t'setAutocomplete' : function() {\n\t\t\t$(\"#assignHouseholdContainer\").html('').append('<input type=\"text\" class=\"form-control\" id=\"assignHousehold\" placeholder=\"Start typing...\" autocomplete=\"off\">');\n\t\t\tfunctions.setDataAttr('ac', false);\n\n\n\t\t\tconst field = document.getElementById('assignHousehold');\n\t\t    let ac = new Autocomplete(field, {\n\t\t        data: assignmentHelper.functions.getDataAttr('unassignedHouseholds'),\n\t\t        maximumItems: 10,\n\t\t        treshold: 1,\n\t\t        highlightTyped: false,\n\t\t        onSelectItem: ({label, value}) => {\n                functions.assignHousehold(value);\n\t\t        }\n\t\t    });\n\n\t\t    functions.setDataAttr('ac', ac);\n    \t},\n    \t'getCompanionshipById' : function(id) {\n    \t\tlet filteredCompanionships = data.companionships.filter(function(companionship) {\n                return (companionship.id === id);\n            });\n            return filteredCompanionships[0];\n    \t},\n    \t'getUnassignedHouseholds' : function() {\n    \t\t$.getJSON('/api/households/unassigned', function( response ) {\n\t\t\t\tfunctions.setDataAttr('unassignedHouseholds', response);\n\t\t\t\tfunctions.setDataAttr('ac', false);\n\t\t\t\tfunctions.setAutocomplete();\n                functions.updateTicker();\n\t\t\t});\n    \t},\n        'assignHousehold' : function(assignedId) {\n    \t\tlet activeCompanionship = functions.getDataAttr('activeCompanionship');\n\n            $.ajax({\n                url: '/api/assign',\n                type: 'post',\n                data: {\n                \tcompanionshipId: activeCompanionship.id,\n                    assignedId: assignedId\n                },\n                success: function(response) {\n\n                    if(response.success) {\n                        let householdHtml = '<p class=\"household\" data-householdid=\"' + response.assignedHousehold.id + '\">' \n                            + response.assignedHousehold.householdName \n                            + '<i class=\"removeAssigned bi-x-circle small text-danger\"></i>'\n                            + '</p>';\n                        \n                        $(css.activeCompanionship.companionship.minTo).append(householdHtml);\n                        $(\"#companionships .companionship[data-companionshipid='\" + activeCompanionship.id + \"'] .assignments\").append(householdHtml);\n\n                        $(\"#assignHousehold\").val('');\n                        functions.getUnassignedHouseholds();\n                    }\n                }\n            });\n    \t},\n    \t'removeAssignedMinTo' : function(clickedEl) {\n    \t\tlet assignedId = clickedEl.data('householdid');\n    \t\tlet activeCompanionship = functions.getDataAttr('activeCompanionship');\n            let companionshipId = clickedEl.closest('.companionship').data('companionshipid');\n\n    \t\t$.ajax({\n                url: '/api/remove-assigned',\n                type: 'post',\n                data: {\n                \thouseholdId: assignedId,\n                \tcompanionshipId: companionshipId\n                },\n                success: function(response) {\n                    if(response.success) {\n                        $('.companionship[data-companionshipid=\"' + companionshipId + '\"]').find(\".household[data-householdid='\" + assignedId + \"']\").remove();\n\n                        $(\"#assignHousehold\").val('');\n                        functions.getUnassignedHouseholds();\n                    }\n                }\n            });\n    \t},\n   //  \t'getCompanionshipComments' : function() {\n   //  \t\tcommentsHelper.functions.showCommentsAjaxLoader(\n   //              $(css.activeHousehold.comments.view)\n   //          );\n\n   //          $.getJSON('/api/household/' + data.activeHousehold.id + '/comments', function( comments ) {\n\t\t\t\t\n\t\t\t// \tcommentsHelper.functions.buildComments(\n   //                  commentsHelper.functions.getDataAttr('commentTemplate'),\n   //                  $(css.activeHousehold.comments.allComments),\n   //                  comments\n   //              );\n\t\t\t// \tcommentsHelper.functions.hideCommentsAjaxLoader(\n   //                  $(css.activeHousehold.comments.view)\n   //              );\n\t\t\t// });\n   //  \t},\n    \t// 'createComment' : function() {\n    \t// \tconst form = $(css.activeHousehold.comments.form);\n    \t// \tlet activeHousehold = functions.getDataAttr('activeHousehold');\n     //        let params = {\n     //            'url' : '/api/household/' + activeHousehold.id + '/comments/create',\n     //            'data' : {\n     //                form: JSON.stringify(form.serializeArray().reduce(function(m,o){  m[o.name] = o.value; return m;}, {}))\n     //            },\n     //            'successCallback' : functions.commentCreateSuccess\n     //        };\n\n     //        commentsHelper.functions.createComment(params);\n    \t// },\n     //    'commentCreateSuccess' : function(response) {\n     //        if(response.saved) {\n     //            $(css.activeHousehold.comments.nav.view).find('.nav-link').click();\n\n     //            commentsHelper.functions.showCommentsAjaxLoader(\n     //                $(css.activeHousehold.comments.view)\n     //            );\n                \n     //            commentsHelper.functions.buildComments(\n     //                commentsHelper.functions.getDataAttr('commentTemplate'),\n     //                $(css.activeHousehold.comments.allComments),\n     //                response.comments,\n     //                'No comments yet.'\n     //            );\n\n     //            commentsHelper.functions.hideCommentsAjaxLoader(\n     //                $(css.activeHousehold.comments.view)\n     //            );\n                \n     //            commentsHelper.functions.resetCommentForm($(css.activeHousehold.comments.form)[0]);\n     //        } else {\n     //            commentsHelper.functions.setCommentError(\n     //                $(css.activeHousehold.comments.formError),\n     //                'Could not save your comment. Refresh the page and try again.'\n     //            );\n     //        }\n     //    },\n    \t'updateTicker' : function() {\n            let unassignedHouseholds = _.clone(functions.getDataAttr('unassignedHouseholds'));\n\n            let shuffled = _.shuffle(_.shuffle(unassignedHouseholds));\n\n            $(css.ticker.container).html('');\n            $(css.ticker.container).append(data.tickerTemplate('Unassigned Households: '));\n\n            $.each(_.slice(shuffled,0,50), function(key, household) {\n                $(css.ticker.container).append(data.tickerTemplate(household.label));\n            });\n        }\n    };\n\n    $(document).on('show.bs.modal', '#assignmentManagementModal', function(e) {\n        let btn = $(e.relatedTarget);\n        let parent = btn.closest('.companionship');\n        functions.workOnCompanionship(parent);\n    });\n\n    $(document).on('show.bs.modal', '#assignmentFeedbackModal', function(e) {\n        let btn = $(e.relatedTarget);\n        let parent = btn.closest('.household');\n        let modal = $(this);\n        let householdData = functions.getCompanionshipById(parent.data('householdid'));\n        let assignmentComments = [];\n\n        modal\n            .removeClass('approved rejected proposed')\n            .addClass(householdData.ministeredByStatus);\n\n        _.each(householdData.ministered_by.comments, function(comment){\n            assignmentComments.push(comment);\n        });\n    \n        $(\"#assignStatus\", modal).html(_.upperFirst(householdData.ministeredByStatus));\n        $(\".householdName\", modal).html(householdData.fullHouseholdName);\n        $(\".assignedNames\", modal).html(householdData.ministeringComp1 + ' & ' + householdData.ministeringComp2);\n\n        commentsHelper.functions.buildComments(\n            commentsHelper.functions.getDataAttr('commentTemplate'),\n            $(\"#aFeedbackContainer\", modal),\n            assignmentComments\n        );\n    });\n\n    $(document).on('click touch', '.removeAssigned', function() {\n    \tfunctions.removeAssignedMinTo($(this).closest('.household'));\n    });\n\n  //   $(document).on('click touch', '#commentSubmit', function(e) {\n\t\t// e.preventDefault();\n\t\t// functions.createComment();\n  //   });   \n\n  //   $(document).on('click touch', '#commentNavCreate', function() {\n  //   \tcommentsHelper.functions.setCommentError(\n  //           $(css.activeHousehold.comments.formError),\n  //           ''\n  //       );\n  //   });\n\n    $(document).on('click touch', '#tickerClose', function() {\n        $(css.ticker.mainContainer).remove();\n    });\n\n    return {\n        data : functions.getAllData,\n        functions: functions\n    }\n}();\n"],"names":["data","functions","commentsHelper","createUrl","$","ajaxSetup","headers","attr","val","params","ajax","url","type","success","response","successCallback","template","container","comments","emptyMessage","html","length","each","index","comment","author","authorInfo","newComment","id","body","name","_moment","updated_at","format","prepend","error","form","reset","find","removeClass","addClass","getAllData","window","assignmentHelper","css","commentTemplate","authorName","commentDate","tickerTemplate","content","companionships","setDataAttr","getUnassignedHouseholds","init","companionshipEl","companionshipData","getCompanionshipById","ac","$ac","companionship","comp1","firstCompanion","fullName","comp2","secondCompanion","minTo","append","field","document","getElementById","Autocomplete","getDataAttr","maximumItems","treshold","highlightTyped","onSelectItem","label","value","assignHousehold","filter","getJSON","setAutocomplete","updateTicker","assignedId","activeCompanionship","companionshipId","householdHtml","assignedHousehold","householdName","clickedEl","closest","householdId","remove","unassignedHouseholds","_","clone","shuffled","shuffle","slice","key","household","on","e","parent","relatedTarget","workOnCompanionship","modal","this","householdData","assignmentComments","ministeredByStatus","ministered_by","push","upperFirst","fullHouseholdName","ministeringComp1","ministeringComp2","buildComments","removeAssignedMinTo","mainContainer"],"sourceRoot":""}